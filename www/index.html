<!DOCTYPE html>
<html>
	<head>
		
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="format-detection" content="telephone=no" />
		<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
		
		<title>A procura do seu im√≥vel termina aqui!</title>
		
		<link rel="stylesheet" type="text/css" href="public/stylesheets/css/reset.css">
        <link rel="stylesheet" type="text/css" href="public/stylesheets/css/style.css">
        <link rel="stylesheet" type="text/css" href="public/stylesheets/css/jquery.mobile-1.3.0.css">
        <link rel="stylesheet" type="text/css" href="public/stylesheets/css/jquery.mobile.theme-1.3.0.css">
		<link rel="stylesheet" type="text/css" href="public/stylesheets/css/jquery.mobile.structure-1.3.0.css">

		<script src="lib/cordova-2.3.0.js"></script>
		<script src="lib/jquery-1.9.0.min.js"></script>
		
		<!--<script src="lib/jquery.mobile-1.3.0.min.js"></script>-->
		
		<!-- 
		<script src="lib/underscore-min.js"></script>
		<script src="lib/backbone-min.js"></script>
		<script src="lib/cordova-2.3.0.js"></script>
		-->

		<script type="text/javascript" charset="utf-8">

				// The watch id references the current `watchAcceleration`
            var watchID = null;

            // Wait for Cordova to load
            //
            document.addEventListener("deviceready", onDeviceReady, false);

            // Cordova is ready
            //
            function onDeviceReady() {
                startWatch();
            }

            // Start watching the acceleration
            //
            function startWatch() {

                // Update acceleration every 3 seconds
                var options = { frequency: 100 };

                watchID = navigator.accelerometer.watchAcceleration(onSuccess, onError, options);
            }

            // Stop watching the acceleration
            //
            function stopWatch() {
                if (watchID) {
                    navigator.accelerometer.clearWatch(watchID);
                    watchID = null;
                }
            }

            // onSuccess: Get a snapshot of the current acceleration
            //
            function onSuccess(acceleration) {
                var element = document.getElementById('accelerometer');
                element.innerHTML = 'Acceleration X: ' + acceleration.x + '<br />' +
                                    'Acceleration Y: ' + acceleration.y + '<br />' +
                                    'Acceleration Z: ' + acceleration.z + '<br />' +
                                    'Timestamp: '      + acceleration.timestamp + '<br />';

                //$('body').append('<div id="teste" />');
                $('#accelerometer').css({
                	'width' : '300px',
                	'height' : '300px',
                	'background' : 'red',
                	'top' : '50%',
                	'left' : '50%',
                	'margin' : '-150px',
                	'position' : 'absolute'
                });

                $('#accelerometer').css({
                	'-webkit-transform' : 'rotate('+(((acceleration.y)*5)*-1)+'deg)'
               	});

                //alert('teste')
            }

            // onError: Failed to get the acceleration
            //
            function onError() {
                alert('onError!');
            }
			
		</script>

		
	</head>

	<body>
		<div id="accelerometer">Waiting for accelerometer...</div>
<!-- 
 <h1>Example</h1>
	<p>getCurrentAcceleration</p>
 -->

	</body>
</html>
